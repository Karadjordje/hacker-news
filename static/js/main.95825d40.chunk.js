(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},113:function(e,t){},127:function(e,t){},161:function(e,t){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SvgSpinnerAuto",(function(){return se}));var r=n(1),c=n.n(r),s=n(22),i=n.n(s),o=(n(92),n(8)),l=n(4),u=n.n(l),m=n(9),f=n(84),p=n(78),_=n(5),E=n(24),b=n(10),d=n(85),v=n(79),O=n.n(v),S=n(86),h=u.a.mark(w);function w(e,t){var n,a,r,c,s,i,o=arguments;return u.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=Object(S.a)(t,2),a=n[0],r=n[1],c=o.length>2&&void 0!==o[2]?o[2]:{},l.prev=2,l.next=5,Object(_.c)(fetch,e,c);case 5:if(200!==(s=l.sent).status){l.next=12;break}return l.next=9,s.json();case 9:return i=l.sent,l.next=12,Object(_.f)({type:a,payload:i});case 12:l.next=18;break;case 14:return l.prev=14,l.t0=l.catch(2),l.next=18,Object(_.f)({type:r,error:l.t0.message||l.t0});case 18:case"end":return l.stop()}}),h,null,[[2,14]])}var j=w,g=u.a.mark(R),N=u.a.mark(F),k=u.a.mark(H),C=u.a.mark(I),x=u.a.mark(A),y=u.a.mark(U),T=Object(m.combineReducers)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STORIES_SUCCESS":return Object(d.a)(t.payload);default:return e}},storyById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STORIES_SUCCESS":return Object(b.a)({},e,{},t.payload.reduce((function(t,n){return t[n]=Object(b.a)({},e[n]||{story:{},loading:!0}),t}),{}));case"FETCH_STORY_SUCCESS":return Object(b.a)({},e,Object(E.a)({},t.payload.id,Object(b.a)({},e[t.payload.id]||{},{loading:!1,error:null,story:Object(b.a)({},t.payload)})));default:return e}},page:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGE":return t.payload;default:return e}}});function R(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.b)([Object(_.i)(["FETCH_STORIES","REFRESH"],F),U(),Object(_.j)("FETCH_STORIES",I),Object(_.j)(["FETCH_STORIES_SUCCESS","CHANGE_PAGE"],A)]);case 2:case"end":return e.stop()}}),g)}function F(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j("https://hacker-news.firebaseio.com/v0/topstories.json",["FETCH_STORIES_SUCCESS","FETCH_STORIES_FAILURE"]);case 2:case"end":return e.stop()}}),N)}function H(e){var t,n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(_.h)(e);case 3:return t=a.sent,n=t.id,a.next=7,j("https://hacker-news.firebaseio.com/v0/item/".concat(n,".json"),["FETCH_STORY_SUCCESS","FETCH_STORY_FAILURE"]);case 7:a.next=0;break;case 9:case"end":return a.stop()}}),k)}function I(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.d)(O()("30s"));case 2:return e.next=4,Object(_.f)({type:"FETCH_STORIES"});case 4:case"end":return e.stop()}}),C)}function A(){var e,t,n,a,r;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(_.g)((function(e){return e.stories}));case 2:e=c.sent,t=e.page,n=e.list,a=20*t,r=20*(t-1);case 8:if(!(r<a)){c.next=14;break}return c.next=11,Object(_.f)({type:"FETCH_STORY",id:n[r]});case 11:r++,c.next=8;break;case 14:case"end":return c.stop()}}),x)}function U(){var e,t;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_.a)("FETCH_STORY");case 2:e=n.sent,t=0;case 4:if(!(t<3)){n.next=10;break}return n.next=7,Object(_.e)(H,e);case 7:t++,n.next=4;break;case 10:case"end":return n.stop()}}),y)}var G=function(e){var t=Object(o.b)();return Object(r.useCallback)((function(){t({type:"CHANGE_PAGE",payload:e})}),[t,e])},P=u.a.mark(L),Y=Object(f.a)(),B=[Y],M=Object(m.combineReducers)({stories:T}),D=Object(p.composeWithDevTools)({}),J=Object(m.createStore)(M,D(m.applyMiddleware.apply(void 0,B)));function L(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_.b)([R()]);case 2:case"end":return e.stop()}}),P)}Y.run(L);var z=J,W=n(80),q=n.n(W),K=(n(99),function(){var e=function(){var e=Object(o.b)();return Object(r.useCallback)((function(){e({type:"REFRESH"})}),[e])}();return c.a.createElement("header",{className:"header"},c.a.createElement("h1",{className:"header__title"},"HackerNews"),c.a.createElement("button",{className:"header__btn",onClick:function(){e()}},c.a.createElement("img",{className:"header__btn__icon",src:q.a,alt:"Refresh icon"})))}),Q=n(81),V=n.n(Q),X=n(83),Z=function(e){var t=e.id,n=e.items,a=e.className,r="https://news.ycombinator.com/item?id=".concat(t);return c.a.createElement("a",{href:r,className:"".concat(a,"__comments"),target:"_blank",rel:"noopener noreferrer"},n&&n.length?"".concat(n.length," comments"):"discuss")},$=(n(100),function(){return c.a.createElement("div",{className:"fake-content"},c.a.createElement("span",{className:"fake-content__number"}),c.a.createElement("div",{className:"fake-content__data"},c.a.createElement("div",{className:"fake-content__title"}),c.a.createElement("div",{className:"fake-content__info"})))}),ee=(n(101),function(e){var t=e.id,n=e.newsNumber,a=Object(o.c)((function(e){return e.stories.storyById[t]||{}})),r=a.story,s=a.loading||!r;return a.error?a.error:s?c.a.createElement($,null):c.a.createElement("div",{className:"news-item"},c.a.createElement("span",{className:"news-item__number"},n+1,"."),c.a.createElement("div",{className:"news-item__data"},c.a.createElement("h1",{className:"news-item__title"},s?c.a.createElement("div",{className:"fake-content"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{className:"news-item__title__link",href:r.url,target:"_blank",rel:"noopener noreferrer"},V()(r.title)," "," "),r.url&&c.a.createElement("span",{className:"news-item__title__source"},"(",r.url.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],")"))),c.a.createElement("div",{className:"news-item__info"},s?c.a.createElement("div",{className:"fake-content"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"news-item__info__text"},r.score," points "," "),c.a.createElement("span",{className:"news-item__info__text"},c.a.createElement("span",{className:"news-item__info__text news-item__info__text--gray"},"by "," "),c.a.createElement("a",{className:"news-item__info__link",href:"".concat("https://news.ycombinator.com","/user?id=").concat(r.by),target:"_blank",rel:"noopener noreferrer"},r.by," "," ")),c.a.createElement("span",{className:"news-item__info__text news-item__info__text--gray"},Object(X.a)(new Date(1e3*r.time))," | "),c.a.createElement(Z,{className:"news-item",id:t,items:r.kids})))))}),te=(n(163),function(){var e=Object(o.c)((function(e){return{allStories:e.stories.list}})).allStories,t=Object(o.c)((function(e){return e.stories.page})),n=G(t+1),a=G(t-1),r=function(){window.scrollTo(0,0)},s=e.length/20;return c.a.createElement("div",{className:"paging"},1!==t&&c.a.createElement("button",{className:"paging__btn",onClick:function(){a(),r()}},"Prev"),1!==t&&t!==s&&" | ",t!==s&&c.a.createElement("button",{className:"paging__btn",onClick:function(){n(),r()}},"More"))}),ne=n(26),ae=n(82),re=n.n(ae),ce={viewBox:"0 0 80 80",pathClassName:"st0"};function se(e){var t=e=Object(b.a)({},ce,{},e),n=t.pathClassName,a=Object(ne.a)(t,["pathClassName"]);return r.createElement("svg",a,r.createElement("path",{className:n,d:"M40,72C22.4,72,8,57.6,8,40C8,22.4,22.4,8,40,8c17.6,0,32,14.4,32,32c0,1.1-0.9,2-2,2s-2-0.9-2-2c0-15.4-12.6-28-28-28S12,24.6,12,40s12.6,28,28,28c1.1,0,2,0.9,2,2S41.1,72,40,72z"},r.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 40 40",to:"360 40 40",dur:"0.7s",repeatCount:"indefinite"})))}n(164);var ie={icon:"SvgSpinnerAuto"},oe=function(e){var t=Object(b.a)({},ie,{},e),n=t.className,c=t.icon,s=t.svgProps,i=t.children,o=Object(ne.a)(t,["className","icon","svgProps","children"]);if(!c)return null;var l,u=a[l=c]?a[l]:null;if(!u)return null;var m=re()("icon",n);return r.createElement("i",Object.assign({},o,{className:m}),r.createElement(u,s),i)},le=(n(165),function(){var e=Object(o.c)((function(e){var t=e.stories;return{allStories:t.list,page:t.page}})),t=e.allStories,n=e.page,a=function(){var e=Object(o.b)();return Object(r.useCallback)((function(){e({type:"FETCH_STORIES"})}),[e])}();if(Object(r.useEffect)((function(){a()}),[a]),!t||!t.length)return c.a.createElement("p",{className:"news-list__spinner"},c.a.createElement(oe,{icon:"SvgSpinnerAuto"}));var s=20*(n-1),i=20*n;return c.a.createElement("div",{className:"news-list"},t.slice(s,i).map((function(e,t){return c.a.createElement(ee,{id:e,key:e,newsNumber:s+t})})),c.a.createElement(te,null))}),ue=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(K,null),c.a.createElement(le,null))};function me(){return c.a.createElement(o.a,{store:z},c.a.createElement(ue,null))}i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(me,null)),document.getElementById("root"))},60:function(e,t){},80:function(e,t,n){e.exports=n.p+"static/media/refresh.c4a4aa42.svg"},87:function(e,t,n){e.exports=n(166)},92:function(e,t,n){},99:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.95825d40.chunk.js.map